{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace m=TYPO3\Media\ViewHelpers}

<div{attributes -> f:format.raw()}>
	<h3>{neos:contentElement.editable(property: 'title', node: node)}</h3>

	{listItems -> f:format.raw()}

	<f:if condition="{viewMorePage}">
		<p class="align-right">
			<neos:link.node node="{viewMorePage}" class="button big">
				<i class="icons icon-calendar"></i>
				<f:if condition="{viewMoreText}">
					<f:then>{viewMoreText}</f:then>
					<f:else>{viewMorePage.properties.title}</f:else>
				</f:if>
			</neos:link.node>
		</p>
	</f:if>
</div>

<f:section name="listItem">
	<div class="blog-post recent-post">
		<div class="post-image">
			<div class="recent-post-meta">
				<span class="post-date">
					<span class="post-day">{ad.properties.startDate -> f:format.date(format: 'd')}</span><br/>
					{ad.properties.startDate -> f:format.date(cldrFormat: 'MMM y', forceLocale: true)}
				</span>
			</div>
			<div class="post-thumbnail">
				<neos:link.node node="{ad}" title="{ad.properties.title}">
					<f:if condition="{ad.properties.listImage}">
						<f:then>
							<m:image asset="{ad.properties.listImage}" alt="{ad.properties.title}" maximumWidth="130" maximumHeight="130" allowCropping="1" />
						</f:then>
						<f:else>
							<f:if condition="{ad.properties.mainImage}">
								<f:then>
									<m:image asset="{ad.properties.mainImage}" alt="{ad.properties.title}" maximumWidth="130" maximumHeight="130" allowCropping="1" />
								</f:then>
								<f:else>
									<img src="https://placehold.it/130x130?text={f:if(condition: ad.properties.category, then: ad.properties.category, else: '14')}" alt="{ad.properties.title}"/>
								</f:else>
							</f:if>
						</f:else>
					</f:if>
				</neos:link.node>
			</div>
		</div>
		<div class="post-content">
			<ul class="post-meta">
				<li>{ad.properties.hull}</li>
				<li>{ad.properties.yearBuild}</li>
				<li><neos:link.node node="{ad}" title="{ad.properties.title}">mehr Details</neos:link.node></li>
			</ul>
			<h4><neos:link.node node="{ad}" title="{ad.properties.title}">{ad.properties.title}</neos:link.node></h4>
			{ad.properties.price -> f:format.currency(currencySign: 'EUR', forceLocale: 'de_DE')}
		</div>
	</div>
</f:section>